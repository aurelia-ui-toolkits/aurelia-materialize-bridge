{"version":3,"sources":["scrollfire/scrollfire-patch.js"],"names":["ScrollfirePatch","patch","patched","window","Materialize","scrollFire","options","didScroll","addEventListener","setInterval","windowScroll","pageYOffset","innerHeight","i","length","value","selector","offset","callback","currentElement","document","querySelector","elementOffset","getBoundingClientRect","top","done","callbackFunc","Function"],"mappings":";;;;;;;;;;;;;;;;iCACaA,e;;;;;kCAGXC,K,oBAAQ;AACN,cAAI,CAACD,gBAAgBE,OAArB,EAA8B;AAC5BF,4BAAgBE,OAAhB,GAA0B,IAA1B;;AAEAC,mBAAOC,WAAP,CAAmBC,UAAnB,GAAgC,UAASC,OAAT,EAAkB;AAChD,kBAAIC,YAAY,KAAhB;AACAJ,qBAAOK,gBAAP,CAAwB,QAAxB,EAAkC,YAAW;AAC3CD,4BAAY,IAAZ;AACD,eAFD;;AAKAE,0BAAY,YAAW;AACrB,oBAAIF,SAAJ,EAAe;AACbA,8BAAY,KAAZ;;AAEA,sBAAIG,eAAeP,OAAOQ,WAAP,GAAqBR,OAAOS,WAA/C;AACA,uBAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIP,QAAQQ,MAA5B,EAAoCD,GAApC,EAAyC;AAEvC,wBAAIE,QAAQT,QAAQO,CAAR,CAAZ;AACA,wBAAIG,WAAWD,MAAMC,QAArB;AACA,wBAAIC,SAASF,MAAME,MAAnB;AACA,wBAAIC,WAAWH,MAAMG,QAArB;;AAEA,wBAAIC,iBAAiBC,SAASC,aAAT,CAAuBL,QAAvB,CAArB;AACA,wBAAKG,mBAAmB,IAAxB,EAA8B;AAC5B,0BAAIG,gBAAgBH,eAAeI,qBAAf,GAAuCC,GAAvC,GAA6CrB,OAAOQ,WAAxE;;AAEA,0BAAID,eAAgBY,gBAAgBL,MAApC,EAA6C;AAC3C,4BAAIF,MAAMU,IAAN,KAAe,IAAnB,EAAyB;AACvB,8BAAI,OAAOP,QAAP,KAAqB,QAAzB,EAAmC;AACjC,gCAAIQ,eAAe,IAAIC,QAAJ,CAAaT,QAAb,CAAnB;AACAQ;AACD,2BAHD,MAGO,IAAI,OAAOR,QAAP,KAAqB,UAAzB,EAAqC;AAC1CA;AACD;AACDH,gCAAMU,IAAN,GAAa,IAAb;AACD;AACF;AACF;AACF;AACF;AACF,eA9BD,EA8BG,GA9BH;AA+BD,aAtCD;AAuCD;AACF,S;;;kBA9CMvB,O,GAAU,K","file":"../../../scrollfire/scrollfire-patch.js","sourcesContent":["/* eslint no-new-func:0 */\nexport class ScrollfirePatch {\n  static patched = false;\n\n  patch() {\n    if (!ScrollfirePatch.patched) {\n      ScrollfirePatch.patched = true;\n\n      window.Materialize.scrollFire = function(options) {\n        let didScroll = false;\n        window.addEventListener('scroll', function() {\n          didScroll = true;\n        });\n\n        // Rate limit to 100ms\n        setInterval(function() {\n          if (didScroll) {\n            didScroll = false;\n\n            let windowScroll = window.pageYOffset + window.innerHeight;\n            for (let i = 0; i < options.length; i++) {\n              // Get options from each line\n              let value = options[i];\n              let selector = value.selector;\n              let offset = value.offset;\n              let callback = value.callback;\n\n              let currentElement = document.querySelector(selector);\n              if ( currentElement !== null) {\n                let elementOffset = currentElement.getBoundingClientRect().top + window.pageYOffset;\n\n                if (windowScroll > (elementOffset + offset)) {\n                  if (value.done !== true) {\n                    if (typeof(callback) === 'string') {\n                      let callbackFunc = new Function(callback);\n                      callbackFunc();\n                    } else if (typeof(callback) === 'function') {\n                      callback();\n                    }\n                    value.done = true;\n                  }\n                }\n              }\n            }\n          }\n        }, 100);\n      };\n    }\n  }\n}\n"]}