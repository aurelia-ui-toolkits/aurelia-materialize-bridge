{"version":3,"sources":["dropdown/dropdown.js"],"names":["bindable","customAttribute","bindingMode","inject","AttributeManager","getBooleanFromAttributeValue","MdDropdown","Element","defaultBindingMode","oneTime","element","attributeManager","attached","handleActivateElement","contentAttributeManager","document","getElementById","activates","addClasses","$","dropdown","alignment","belowOrigin","constrain_width","constrainWidth","gutter","parseInt","hover","inDuration","outDuration","stopPropagation","detached","removeAttributes","removeClasses","open","close","ref","id","getAttribute","elementId","setAttribute","addAttributes"],"mappings":"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","file":"../../../dropdown/dropdown.js","sourcesContent":["import { bindable, customAttribute } from 'aurelia-templating';\r\nimport { bindingMode } from 'aurelia-binding';\r\nimport { inject } from 'aurelia-dependency-injection';\r\nimport { AttributeManager } from '../common/attributeManager';\r\nimport { getBooleanFromAttributeValue } from '../common/attributes';\r\n\r\n@customAttribute('md-dropdown')\r\n@inject(Element)\r\nexport class MdDropdown {\r\n  static elementId = 0;\r\n\r\n  @bindable({\r\n    defaultBindingMode: bindingMode.oneTime\r\n  }) activates = '';\r\n  @bindable({\r\n    defaultBindingMode: bindingMode.oneTime\r\n  }) ref = null;\r\n  @bindable({\r\n    defaultBindingMode: bindingMode.oneTime\r\n  }) alignment = 'left';\r\n  @bindable({\r\n    defaultBindingMode: bindingMode.oneTime\r\n  }) belowOrigin = false;\r\n  @bindable({\r\n    defaultBindingMode: bindingMode.oneTime\r\n  }) constrainWidth = true;\r\n  @bindable({\r\n    defaultBindingMode: bindingMode.oneTime\r\n  }) gutter = 0;\r\n  @bindable({\r\n    defaultBindingMode: bindingMode.oneTime\r\n  }) hover = false;\r\n  @bindable({\r\n    defaultBindingMode: bindingMode.oneTime\r\n  }) mdTitle;\r\n  @bindable({\r\n    defaultBindingMode: bindingMode.oneTime\r\n  }) inDuration = 300;\r\n  @bindable({\r\n    defaultBindingMode: bindingMode.oneTime\r\n  }) outDuration = 225;\r\n  @bindable({\r\n    defaultBindingMode: bindingMode.oneTime\r\n  }) stopPropagation = false;\r\n\r\n  constructor(element) {\r\n    this.element = element;\r\n    this.attributeManager = new AttributeManager(this.element);\r\n  }\r\n\r\n  attached() {\r\n    this.handleActivateElement();\r\n    this.contentAttributeManager = new AttributeManager(document.getElementById(this.activates));\r\n\r\n    this.attributeManager.addClasses('dropdown-button');\r\n    this.contentAttributeManager.addClasses('dropdown-content');\r\n    // this.attributeManager.addAttributes({ 'data-activates': this.activates });\r\n\r\n    $(this.element).dropdown({\r\n      alignment: this.alignment,\r\n      belowOrigin: getBooleanFromAttributeValue(this.belowOrigin),\r\n      constrain_width: getBooleanFromAttributeValue(this.constrainWidth),\r\n      constrainWidth: getBooleanFromAttributeValue(this.constrainWidth),\r\n      gutter: parseInt(this.gutter, 10),\r\n      hover: getBooleanFromAttributeValue(this.hover),\r\n      inDuration: parseInt(this.inDuration, 10),\r\n      outDuration: parseInt(this.outDuration, 10),\r\n      stopPropagation: getBooleanFromAttributeValue(this.stopPropagation)\r\n    });\r\n  }\r\n\r\n  detached() {\r\n    this.attributeManager.removeAttributes('data-activates');\r\n    this.attributeManager.removeClasses('dropdown-button');\r\n    this.contentAttributeManager.removeClasses('dropdown-content');\r\n  }\r\n\r\n  open() {\r\n    $(this.element).dropdown('open');\r\n  }\r\n\r\n  close() {\r\n    $(this.element).dropdown('close');\r\n  }\r\n\r\n  handleActivateElement() {\r\n    if (this.ref) {\r\n      let id = this.ref.getAttribute('id');\r\n      if (!id) {\r\n        id = `md-dropdown-${MdDropdown.elementId++}`;\r\n        this.ref.setAttribute('id', id);\r\n        this.activates = id;\r\n      }\r\n      this.id = MdDropdown.elementId++;\r\n    }\r\n    this.attributeManager.addAttributes({ 'data-activates': this.activates });\r\n  }\r\n}\r\n"]}