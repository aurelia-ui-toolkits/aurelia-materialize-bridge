{"version":3,"sources":["file/file.js"],"names":["bindable","customElement","bindingMode","inject","fireEvent","fireMaterializeEvent","getBooleanFromAttributeValue","MdFileInput","Element","defaultBindingMode","oneTime","twoWay","element","files","_suspendUpdate","handleChangeFromNativeInput","bind","attached","mdMultiple","$","filePath","on","detached","off"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,c,sBAAAA,Q;AAAUC,mB,sBAAAA,a;;AACVC,iB,mBAAAA,W;;AACAC,Y,+BAAAA,M;;AACAC,e,iBAAAA,S;AAAWC,0B,iBAAAA,oB;;AACXC,kC,qBAAAA,4B;;;6BAIIC,W,WAFZN,cAAc,SAAd,C,UACAE,OAAOK,OAAP,C,UAEER,U,UACAA,SAAS;AACRS,4BAAoBP,YAAYQ;AADxB,OAAT,C,UAGAV,SAAS;AACRS,4BAAoBP,YAAYS;AADxB,OAAT,C,UAGAX,U,UACAA,U;AAKD,6BAAYY,OAAZ,EAAqB;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,eAJrBC,KAIqB,GAJb,EAIa;AAAA,eAFrBC,cAEqB,GAFJ,KAEI;;AACnB,eAAKF,OAAL,GAAeA,OAAf;AACA,eAAKG,2BAAL,GAAmC,KAAKA,2BAAL,CAAiCC,IAAjC,CAAsC,IAAtC,CAAnC;AACD;;8BAEDC,Q,uBAAW;AACT,eAAKC,UAAL,GAAkBZ,6BAA6B,KAAKY,UAAlC,CAAlB;AACAC,YAAE,KAAKC,QAAP,EAAiBC,EAAjB,CAAoB,QAApB,EAA8B,KAAKN,2BAAnC;AACD,S;;8BAEDO,Q,uBAAW;AACTH,YAAE,KAAKP,OAAP,EAAgBW,GAAhB,CAAoB,QAApB,EAA8B,KAAKR,2BAAnC;AACD,S;;8BAEDA,2B,0CAA8B;AAC5B,cAAI,CAAC,KAAKD,cAAV,EAA0B;AACxB,iBAAKA,cAAL,GAAsB,IAAtB;AACAV,sBAAU,KAAKgB,QAAf,EAAyB,QAAzB,EAAmC,EAAEP,OAAO,KAAKA,KAAd,EAAnC;AACAR,iCAAqB,KAAKe,QAA1B,EAAoC,QAApC,EAA8C,EAAEP,OAAO,KAAKA,KAAd,EAA9C;AACA,iBAAKC,cAAL,GAAsB,KAAtB;AACD;AACF,S;;;;;;iBAlCuB,M;;;;;iBAGR,K;;;;;;;;iBAIO,K;;;;;iBACE,K","file":"../../../file/file.js","sourcesContent":["import { bindable, customElement } from 'aurelia-templating';\r\nimport { bindingMode } from 'aurelia-binding';\r\nimport { inject } from 'aurelia-dependency-injection';\r\nimport { fireEvent, fireMaterializeEvent } from '../common/events';\r\nimport { getBooleanFromAttributeValue } from '../common/attributes';\r\n\r\n@customElement('md-file')\r\n@inject(Element)\r\nexport class MdFileInput {\r\n  @bindable() mdCaption = 'File';\r\n  @bindable({\r\n    defaultBindingMode: bindingMode.oneTime\r\n  }) mdMultiple = false;\r\n  @bindable({\r\n    defaultBindingMode: bindingMode.twoWay\r\n  }) mdLabelValue;\r\n  @bindable() disabled = false;\r\n  @bindable() mdReadonly = false;\r\n  files = [];\r\n\r\n  _suspendUpdate = false;\r\n\r\n  constructor(element) {\r\n    this.element = element;\r\n    this.handleChangeFromNativeInput = this.handleChangeFromNativeInput.bind(this);\r\n  }\r\n\r\n  attached() {\r\n    this.mdMultiple = getBooleanFromAttributeValue(this.mdMultiple);\r\n    $(this.filePath).on('change', this.handleChangeFromNativeInput);\r\n  }\r\n\r\n  detached() {\r\n    $(this.element).off('change', this.handleChangeFromNativeInput);\r\n  }\r\n\r\n  handleChangeFromNativeInput() {\r\n    if (!this._suspendUpdate) {\r\n      this._suspendUpdate = true;\r\n      fireEvent(this.filePath, 'change', { files: this.files });\r\n      fireMaterializeEvent(this.filePath, 'change', { files: this.files });\r\n      this._suspendUpdate = false;\r\n    }\r\n  }\r\n}\r\n"]}