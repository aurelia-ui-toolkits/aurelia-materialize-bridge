{"version":3,"sources":["modal/modal.js"],"names":["getLogger","bindable","customAttribute","inject","getBooleanFromAttributeValue","AttributeManager","fireMaterializeEvent","MdModal","Element","element","log","attributeManager","onComplete","bind","onReady","attached","options","complete","dismissible","endingTop","inDuration","parseInt","opacity","parseFloat","outDuration","ready","startingTop","debug","addClasses","$","modal","detached","removeClasses","trigger","open","close"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,e,mBAAAA,S;;AACAC,c,sBAAAA,Q;AAAUC,qB,sBAAAA,e;;AACVC,Y,+BAAAA,M;;AACAC,kC,qBAAAA,4B;;AACAC,sB,2BAAAA,gB;;AACAC,0B,iBAAAA,oB;;;yBAIIC,O,WAFZL,gBAAgB,UAAhB,C,UACAC,OAAOK,OAAP,C,UAEEP,U,UACAA,U,UACAA,U,UACAA,U,UACAA,U,UACAA,U;AAED,yBAAYQ,OAAZ,EAAqB;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AACnB,eAAKA,OAAL,GAAeA,OAAf;AACA,eAAKC,GAAL,GAAWV,UAAU,UAAV,CAAX;AACA,eAAKW,gBAAL,GAAwB,IAAIN,gBAAJ,CAAqB,KAAKI,OAA1B,CAAxB;AACA,eAAKG,UAAL,GAAkB,KAAKA,UAAL,CAAgBC,IAAhB,CAAqB,IAArB,CAAlB;AACA,eAAKC,OAAL,GAAe,KAAKA,OAAL,CAAaD,IAAb,CAAkB,IAAlB,CAAf;AACD;;0BAEDE,Q,uBAAW;AACT,cAAMC,UAAU;AACdC,sBAAU,KAAKL,UADD;AAEdM,yBAAad,6BAA6B,KAAKc,WAAlC,CAFC;AAGdC,uBAAW,KAAKA,SAHF;AAIdC,wBAAYC,SAAS,KAAKD,UAAd,EAA0B,EAA1B,CAJE;AAKdE,qBAASC,WAAW,KAAKD,OAAhB,CALK;AAMdE,yBAAaH,SAAS,KAAKG,WAAd,EAA2B,EAA3B,CANC;AAOdC,mBAAO,KAAKX,OAPE;AAQdY,yBAAa,KAAKA;AARJ,WAAhB;AAUA,eAAKhB,GAAL,CAASiB,KAAT,CAAe,iBAAf,EAAkCX,OAAlC;AACA,eAAKL,gBAAL,CAAsBiB,UAAtB,CAAiC,OAAjC;AACAC,YAAE,KAAKpB,OAAP,EAAgBqB,KAAhB,CAAsBd,OAAtB;AACD,S;;0BAEDe,Q,uBAAW;AACT,eAAKpB,gBAAL,CAAsBqB,aAAtB,CAAoC,OAApC;AACD,S;;0BAEDpB,U,yBAAa;AACXN,+BAAqB,KAAKG,OAA1B,EAAmC,gBAAnC;AACD,S;;0BAEDK,O,oBAAQgB,K,EAAOG,O,EAAS;AACtB3B,+BAAqB,KAAKG,OAA1B,EAAmC,aAAnC,EAAkD,EAAEqB,YAAF,EAASG,gBAAT,EAAlD;AACD,S;;0BAEDC,I,mBAAO;AACLL,YAAE,KAAKpB,OAAP,EAAgBqB,KAAhB,CAAsB,MAAtB;AACD,S;;0BAEDK,K,oBAAQ;AACNN,YAAE,KAAKpB,OAAP,EAAgBqB,KAAhB,CAAsB,OAAtB;AACD,S;;;;;;iBAjDyB,I;;;;;iBACJ,G;;;;;iBACG,G;;;;;iBACC,G;;;;;iBACA,I;;;;;iBACF,K","file":"../../../modal/modal.js","sourcesContent":["import { getLogger } from 'aurelia-logging';\nimport { bindable, customAttribute } from 'aurelia-templating';\nimport { inject } from 'aurelia-dependency-injection';\nimport { getBooleanFromAttributeValue } from '../common/attributes';\nimport { AttributeManager } from '../common/attributeManager';\nimport { fireMaterializeEvent } from '../common/events';\n\n@customAttribute('md-modal')\n@inject(Element)\nexport class MdModal {\n  @bindable() dismissible = true;\n  @bindable() opacity = 0.5; // Opacity of modal background\n  @bindable() inDuration = 300; // Transition in duration\n  @bindable() outDuration = 200; // Transition out duration\n  @bindable() startingTop = '4%'; // Starting top style attribute\n  @bindable() endingTop = '10%'; // Ending top style attribute\n\n  constructor(element) {\n    this.element = element;\n    this.log = getLogger('md-modal');\n    this.attributeManager = new AttributeManager(this.element);\n    this.onComplete = this.onComplete.bind(this);\n    this.onReady = this.onReady.bind(this);\n  }\n\n  attached() {\n    const options = {\n      complete: this.onComplete,\n      dismissible: getBooleanFromAttributeValue(this.dismissible),\n      endingTop: this.endingTop,\n      inDuration: parseInt(this.inDuration, 10),\n      opacity: parseFloat(this.opacity),\n      outDuration: parseInt(this.outDuration, 10),\n      ready: this.onReady,\n      startingTop: this.startingTop\n    };\n    this.log.debug('modal options: ', options);\n    this.attributeManager.addClasses('modal');\n    $(this.element).modal(options);\n  }\n\n  detached() {\n    this.attributeManager.removeClasses('modal');\n  }\n\n  onComplete() {\n    fireMaterializeEvent(this.element, 'modal-complete');\n  }\n\n  onReady(modal, trigger) {\n    fireMaterializeEvent(this.element, 'modal-ready', { modal, trigger });\n  }\n\n  open() {\n    $(this.element).modal('open');\n  }\n\n  close() {\n    $(this.element).modal('close');\n  }\n}\n"]}